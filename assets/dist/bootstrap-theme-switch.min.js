import*as t from"bootstrap";document.addEventListener("DOMContentLoaded",function(){let e=document.documentElement,n=document.getElementById("themeSelector"),s=document.getElementById("themeButton"),i=e.getAttribute("data-system-theme"),o={light:"dark",dark:"light"},l;function a(e){if("false"===localStorage.getItem("isButtonVariantDefined")){let n;n="system"===e?c():e,Object.keys(o).forEach(function(t){n===t?(s.classList.add("btn-outline-"+o[t]),s.classList.remove("btn-outline-"+t)):(s.classList.remove("btn-outline-"+o[t]),s.classList.add("btn-outline-"+t))})}let i=s.getElementsByTagName("span");for(let l=0;l<i.length;l++)i[l].dataset.mode===e?(i[l].classList.add("d-inline-block"),i[l].classList.remove("d-none")):(i[l].classList.remove("d-inline-block"),i[l].classList.add("d-none"));t.Tooltip.getInstance("#themeButton").hide()}function r(t){for(let e=0;e<n.options.length;e++)n.options[e].value===t?(n.options[e].selected=!0,n.options[e].setAttribute("selected",!0)):(n.options[e].selected=!1,n.options[e].removeAttribute("selected"))}function d(t){let n,s;"system"===t?(n=c(),s="1"):(n=t,s="0"),e.setAttribute("data-bs-theme",n),e.setAttribute("data-system-theme",s),fetch("/_bootstrap-theme-switch",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({theme:n,isSystemTheme:s})}).then(t=>t.text()).then(t=>console.log(t)).catch(t=>console.error("Error:",t))}function c(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}l="1"===i&&function t(){if(null!==s){let e=s.getElementsByTagName("span");return e.length>2}return null!==n&&n.options.length>2}()?"system":e.getAttribute("data-bs-theme"),null!==s&&(localStorage.setItem("isButtonVariantDefined",function t(){let e=s.classList,n=!1;for(let i=0;i<e.length;i++)if(e[i].startsWith("btn-")){n=!0;break}return n}()),a(l),s.addEventListener("click",function(){let t=this.querySelector(".d-inline-block"),e=t.dataset.next;d(e),a(e)})),null!==n&&(r(l),n.addEventListener("change",function(){let t=this.value;d(t),r(t)}))});